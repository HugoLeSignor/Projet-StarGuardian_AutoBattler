{% extends 'base.html.twig' %}

{% block title %}Teams{% endblock %}

{% block body %}
<section class="teams-page">

    {# ===== ÉQUIPE SÉLECTIONNÉE EN HAUT ===== #}
    <div class="selected-team">
        <h3>Équipe sélectionnée (max 3)</h3>
        <div class="selected-list"></div>
        <button class="btn-launch" disabled>Lancer la partie</button>
    </div>

    {# ===== LAYOUT PRINCIPAL ===== #}
    <div class="teams-layout">

        {# ===== GRILLE PERSONNAGES (GAUCHE) ===== #}
        <div class="team-grid">
            {% for hero in heroes %}
                 <div class="team-portrait"
                     data-name="{{ hero.name }}"
                     data-role="{{ hero.role ? hero.role.name : '' }}"
                     data-dmg-min="{{ hero.DMGMIN }}"
                     data-dmg-max="{{ hero.DMGMAX }}"
                     data-speed="{{ hero.SPEED }}"
                     data-dodge="{{ hero.DODGE }}"
                     data-crit="{{ hero.CRIT }}"
                     data-hp="{{ hero.HP }}"
                     data-sprite="{{ (hero.name is not empty ? hero.name|lower|replace({' ':'-', '_':'-'}) : 'inconnu') ~ '-idle.gif' }}">
                    <img src="{{ asset('asset/img/' ~ (hero.name is not empty ? hero.name|lower|replace({' ':'_', '-':'_'}) : 'inconnu') ~ '.webp') }}" alt="{{ hero.name }} portrait">
                    <span>{{ hero.name }}</span>
                 </div>
            {% endfor %}
        </div>

        {# ===== DETAILS PERSONNAGE (DROITE) ===== #}
        <div class="team-details" id="teamDetails">
            <div class="team-placeholder" id="spriteDetails">
                <h2>Sélectionnez un héros</h2>
                <p>Cliquez sur un portrait pour afficher ses informations.</p>
            </div>
        </div>

    </div>
</section>

<script src="{{ asset('js/team.js') }}"></script>
{% endblock %}